!function(t){function e(t,e){this.value=t,this.size=e,this.el=document.createElement("span"),this.el.style.flexGrow=1,this.el.style.verticalAlign="middle",this.el.style.letterSpacing="0.3rem",this.el.textContent=s(this.value,this.size),this.clear=function(){this.set(0)},this.set=function(t){this.value=t,this.el.textContent=s(this.value,this.size)}}function i(t){this.el=document.createElement("span"),this.el.textContent=t||":"}function s(t,e){if("number"!=typeof t)throw"Function decimalFormat : 숫자만 변환 가능합니다";for(var i="",s=t;s>0;)i=s%10+i,s=parseInt(s/10);for(;i.length<e;)i="0"+i;return i}t.Hakademy=t.Hakademy||{},t.Hakademy.util=t.Hakademy.util||{},t.Hakademy.util.clock=function(t,e){if(this.el=document.querySelector(t),!this.el)throw"대상이 없습니다";if(this.options=Object.assign({},{backgroundColor:"rgba(0,0,0,0.5)",textColor:"white",increment:!0,fontFamily:null,fontSize:50,border:null,type:"timer",hour:0,minute:0,second:0,ms:0,hourVisible:!0,msVisible:!1,isBorderRounded:!0,callback:null,startButton:null,stopButton:null,resetButton:null},e),this.options.startButton){var i=this;document.querySelectorAll(this.options.startButton).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),i.start()})}),document.querySelectorAll(this.options.stopButton).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),i.stop()})}),document.querySelectorAll(this.options.resetButton).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),i.reset()})})}this.handle=null,this.lastTime=0,this.createInside(),this.createDesign(),this.initTime(),"clock"===this.options.type&&this.start()},t.Hakademy.util.clock.prototype.createDesign=function(){this.el.style.position="relative",this.el.style.padding="10px",this.el.style.display="flex",this.el.style.flexWrap="no-wrap",this.el.style.boxSizing="border-box",this.el.style.backgroundColor=this.options.backgroundColor,this.el.style.color=this.options.textColor,this.el.style.fontSize=this.options.fontSize+"px",this.el.style.textAlign="center",this.el.style.overflow="hidden",this.options.border&&(this.el.style.border=this.options.border),this.options.isBorderRounded&&(this.el.style.borderRadius=this.el.offsetHeight/5+"px"),this.options.fontFamily&&(this.el.style.fontFamily=this.options.fontFamily)},t.Hakademy.util.clock.prototype.createInside=function(){("clock"===this.options.type||this.options.hourVisible)&&(this.hour=new e(0,2),this.el.appendChild(this.hour.el),this.el.appendChild((new i).el)),this.minute=new e(0,2),this.el.appendChild(this.minute.el),this.second=new e(0,2),this.el.appendChild((new i).el),this.el.appendChild(this.second.el),this.options.msVisible&&(this.el.appendChild(new i(".").el),this.millis=new e(0,2),this.el.appendChild(this.millis.el))},t.Hakademy.util.clock.prototype.clearValue=function(){this.hour.clear(),this.minute.clear(),this.second.clear()},t.Hakademy.util.clock.prototype.display=function(t,e,i,s){("clock"===this.options.type||this.options.hourVisible)&&this.hour.set(t),this.minute.set(e),this.second.set(i),this.options.msVisible&&this.millis.set(s)},t.Hakademy.util.clock.prototype.start=function(){if(this.handle)return!1;var t=this,e=this.options.msVisible?10:1e3;if("clock"===this.options.type){var i=60*(new Date).getTimezoneOffset()*1e3;t.currentTime(i),this.handle=setInterval(function(){t.currentTime(i)},e)}else this.lastTime=Date.now(),this.handle=setInterval(function(){t.changeTime()},e);return!0},t.Hakademy.util.clock.prototype.stop=function(){return!(!this.handle||"clock"===this.options.type)&&(clearInterval(this.handle),this.handle=null,!0)},t.Hakademy.util.clock.prototype.reset=function(){return!this.handle&&(this.initTime(),!0)},t.Hakademy.util.clock.prototype.currentTime=function(t){var e=Date.now();e-=t;var i=parseInt(e%1e3/10),s=(e=parseInt(e/1e3))%60,o=(e=parseInt(e/60))%60,n=(e=parseInt(e/60))%24;this.display(n,o,s,i)},t.Hakademy.util.clock.prototype.changeTime=function(){var t=Date.now()-this.lastTime;switch(this.options.type){case"stopwatch":this.time+=t;break;case"timer":this.time-=t}this.options.msVisible||(this.time=1e3*parseInt((this.time+500)/1e3)),this.time<=0?(this.setTime(0),this.options.callback&&(this.options.callback(this),this.stop())):(this.setTime(this.time),this.lastTime=Date.now())},t.Hakademy.util.clock.prototype.clearTime=function(){this.setTime(0)},t.Hakademy.util.clock.prototype.setTime=function(t){this.time=t;var e=parseInt(t%1e3/10),i=(t=parseInt(t/1e3))%60,s=(t=parseInt(t/60))%60,o=t=parseInt(t/60);this.display(o,s,i,e)},t.Hakademy.util.clock.prototype.initTime=function(){var t=36e5*this.options.hour;t+=6e4*this.options.minute,t+=1e3*this.options.second,this.options.msVisible&&(t+=this.options.ms),this.setTime(t)},t.Hakademy.util.clock.prototype.set=function(t,e){if(!e&&"string"==typeof t)return this.options[t];"object"==typeof t?(this.options=Object.assign({},this.options,t),this.createDesign()):(this.options[t]=e,this.createDesign())}}(window);